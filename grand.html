<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2017-01-04 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Christophe Labouisse" />
    <meta name="Date-Revision-yyyymmdd" content="20170104" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Grand &#x2013; ggTools: Grand</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
<link rel="icon" href="images/icon.png" type="image/png"/>
<meta name="description" content="Graphical Representation of ANt Dependencies" /><meta name="keywords" content="Java, tools, programming, free software, Ant, dependency, depend, target, graph, Graphviz, DOT, graphical, jface, SWT, JzGraph" /><link href="css/grand.css" type="text/css" rel="stylesheet" /><script type="text/javascript" src="js/grand.js"></script>      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>Grand: Graphical Representation of ANt Dependencies</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2017-01-04<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.9.4</li>
      <li class="pull-right"><a href="../.." title="Grand: Graphical Representation of ANt Dependencies">Grand: Graphical Representation of ANt Dependencies</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Grand</li>
    <li class="active"><a href="#"><span class="none"></span>Introduction</a>
  </li>
            <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a>  </li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >


  
    
<div class="section">
<h2><a name="Grand:_Ant_build_visualisation_tool"></a>Grand: Ant build visualisation tool</h2>
    
<div class="grandmenu" id="grandMenu">
      
<ul>
        
<li><a href="#WhatWhy">What/Why?</a></li>
        
<li><a href="#Features">Features</a></li>
        
<li><a href="#News">News</a></li>
        
<li><a href="#Download">Download</a></li>
        
<li><a href="#Compilation_installation">Installation</a></li>
        
<li><a href="#Using_the_Ant_task">Using the Ant task</a></li>
        
<li><a href="#Filters">Filters</a></li>
        
<li><a href="#Examples">Examples</a></li>
        
<li><a href="#To_do">To do</a></li>
        
<li><a href="#Javadoc">Javadoc</a></li>
        
<li><a href="#License">License</a></li>
        
<li><a href="#Contact">Contact</a></li>
        
<li class="icon">
          <span>Shortcuts</span>
          <a href="javascript:grandmenuresponsive();">&#x2630;</a>
        </li>
      </ul>
    </div>
    
<div class="grandmodal" id="grandModal">
      <span class="grandclose" id="grandClose">&#xd7;</span>
    </div>
    
<div class="section">
<h3><a name="WhatWhy"></a>What/Why?</h3>
      
<p>Grand is a tool to create visual representation of <a class="externalLink" href="https://ant.apache.org">Ant</a> target dependencies. It differs from tools like <a class="externalLink" href="http://vizant.sourceforge.net/">Vizant</a> or <a class="externalLink" href="https://web.archive.org/web/20050416013130/http://www.ericburke.com/downloads/antgraph/">AntGraph</a> or <a class="externalLink" href="http://ant2dot.sourceforge.net/">ant2dot</a> by a totally different approach, relying on the Ant API rather than parsing the XML files directly. This enables Grand to provide some nifty features such as the support of the Ant 1.6+ tasks like <a class="externalLink" href="http://ant.apache.org/manual/Tasks/import.html">import</a> or <a class="externalLink" href="http://ant.apache.org/manual/Tasks/subant.html">subant</a>.</p>
      
<p>From a user point of view, Grand can be used either as a standalone application with a nice GUI or as an Ant task generating a <a class="externalLink" href="http://www.graphviz.org/content/dot-language">DOT language</a> file. In this latter case a post processing using <a class="externalLink" href="http://www.graphviz.org">Graphviz</a> is required to get the actual graph.</p>
      
<div class="floating-sample-image">
        <img src="images/grand-ui-screenshot.svg" title="Grand UI screenshot" class="modal-image" width="400" height="312" alt="Grand UI screenshot" />
      </div>
      
<p>On the right is a screenshot of the GUI displaying a very simple Ant file. The left pane displays a sorted list of the targets, the lower pane the source code of the last selected node and the main one the dependency graph. In this graph, the default target is pictured in a yellow octagon, the targets with a description (main targets) in limegreen boxes while ovals are targets without description. The gray target is an external target located in another file but referenced by a task (<tt>subant</tt> in this specific case).</p>
      
<p>On the link side, the black ones are static dependencies (from the <tt>depends</tt> attribute) while the gray ones are the dependencies created by tasks.</p>
      
<p>Images produced using the Ant task can be found in the <a href="#Examples">examples</a> section.</p>
    </div>
    
<div class="section">
<h3><a name="Features"></a>Features</h3>
      
<ul>
        
<li>finds both static (using the <tt>depends</tt> attribute) and dynamic (created by tasks like <tt>ant</tt> or <tt>antcall</tt>) dependencies,</li>
        
<li>supports Ant 1.6 <tt>import</tt> statement,</li>
        
<li>supports most dependencies generating tasks: <tt>ant</tt>, <tt>antcall</tt>, <tt>subant</tt> and <tt>foreach</tt>, <tt>runtarget</tt> from antcontrib,</li>
        
<li>available as both as an easy to install (one single jar, no extra dependency) Ant task or a stand alone application with a nice SWT GUI,</li>
        
<li>the GUI can open several files simultaneously and includes some inter files navigation features.</li>
      </ul>
    </div>
    
<div class="section">
<h3><a name="News"></a>News</h3>
      
<p>Please see the Grand and GrandUI <a href="changes-report.html#Release_History">release history</a>. Latest versions (as well as quick download links) are displayed on the <a href="../..">front page</a> if JavaScript is enabled in your browser.</p>
    </div>
    
<div class="section">
<h3><a name="Download"></a>Download</h3>
      
<div class="section">
<h4><a name="CoreAnt_task"></a>Core/Ant task</h4>
      
<p>The latest version of Grand is available as a <a class="externalLink" href="https://github.com/Ant-Grand/Grand/releases/latest">jar file</a>. Old versions are available in the <a class="externalLink" href="https://github.com/Ant-Grand/Grand/releases">download directory</a>.</p>
      
<p>You'll also need to grab <a class="externalLink" href="http://ant.apache.org">Ant</a>. The recommended version is 1.8.0 or later.</p>
      </div>
<div class="section">
<h4><a name="GUI"></a>GUI</h4>
      
<p>The GUI is available as a complete binary distribution in a <a class="externalLink" href="https://github.com/Ant-Grand/GrandUI/releases/latest">zip file</a>. This archive should work for macOS (x86_64), Linux and Windows (both x86 and x86_64) systems. Old versions are available in the <a class="externalLink" href="https://github.com/Ant-Grand/GrandUI/releases">download directory</a>.</p>
    </div></div>
    
<div class="section">
<h3><a name="Compilation_installation"></a>Compilation, installation</h3>
      
<p>If you want to recompile Grand, you'll first need to install <a class="externalLink" href="http://maven.apache.org/">Maven</a>. After that the compilation process should be straightforward: untar or unzip, cd to the Grand directory, and type <tt>mvn package</tt>. Maven will download the required libraries, compile the classes, run the (few) unit tests and create a jar.</p>
      
<p>As an alternative to Maven, the source archive also provides a <tt>build.xml</tt> file to be used with <a class="externalLink" href="http://ant.apache.org">Ant</a>. This file had been generated by Maven so it tries to mimic its behaviour. By default, the build will download the dependencies using Ivy. You can prevent this by running Ant with <tt>-Dnoget=yes</tt>. In this case you'll have to put all jars listed in the <a href="dependencies.html#Project_Dependencies">dependency report</a> in the classpath or in the <tt>target/lib</tt> directory.</p>
    </div>
    
<div class="section">
<h3><a name="Using_the_Ant_task"></a>Using the Ant task</h3>
      
<p>To use the Ant task you should first define the <tt>grand</tt> task:</p>
      
<div class="source"><pre class="prettyprint">&lt;typedef resource=&quot;net/ggtools/grand/antlib.xml&quot; classpath=&quot;grand-0.4.jar&quot;/&gt;</pre></div>
      
<div class="section">
<h4><a name="Note_on_property_defined_dependencies"></a>Note on property defined dependencies</h4>
      
<p>Starting with release 0.4, Grand can work with dependencies defined from properties like <tt>&lt;target name=&quot;target&quot; depends=&quot;${my.target}&quot;&gt;</tt>. Keep in mind that the <i>graphed</i> file is only parsed, not executed. So no runtime defined (anything defined with the property task for instance) property will be available to Grand. The only exception is when Grand is graphing the current build file because it uses the project already loaded by Ant rather than parsing it from scratch.</p>
      
<p>The task takes the following parameters:</p>
      
<div class="task-parameters">
        
<table border="0" class="table table-striped">
          <tbody>
            
<tr class="a">
              
<th>Attribute</th>
              
<th>Definition</th>
              
<th>Mandatory</th>
            </tr>
            
<tr class="b">
              
<td class="param">output</td>
              
<td class="def">name of the output file.</td>
              
<td class="mandatory">Yes</td>
            </tr>
            
<tr class="a">
              
<td class="param">buildfile</td>
              
<td class="def">name of the build file to graph. If omitted, the current build file will be used.</td>
              
<td class="mandatory">No</td>
            </tr>
            
<tr class="b">
              
<td class="param">propertyfile</td>
              
<td class="def">Deprecated, use <tt>outputconfigfile</tt> instead.</td>
              
<td class="mandatory">No</td>
            </tr>
            
<tr class="a">
              
<td class="param">outputconfigfile</td>
              
<td class="def">a property file to configure the output. Mutually exclusive with <tt>outputconfigprefix</tt>.</td>
              
<td class="mandatory">No</td>
            </tr>
            
<tr class="b">
              
<td class="param">outputconfigprefix</td>
              
<td class="def">a prefix of project properties used to configure the output. Mutually exclusive with <tt>outputconfigfile</tt>.</td>
              
<td class="mandatory">No</td>
            </tr>
            
<tr class="a">
              
<td class="param">showgraphname</td>
              
<td class="def">If <tt>true</tt>, the generated graph will have the Ant project's <tt>name</tt> displayed as the graph label.</td>
              
<td class="mandatory">No</td>
            </tr>
            
<tr class="b">
              
<td class="param">inheritall</td>
              
<td class="def">If <tt>true</tt>, the properties of the current build file will be passed to the <i>graphed</i> build file. The default is not to pass the properties to the <i>graphed</i> project.</td>
              
<td class="mandatory">No</td>
            </tr>
          </tbody>
        </table>
      </div>
      
<p>The <tt>grand</tt> task accepts nested <tt>property</tt> and <tt>propertyset</tt> elements. Those properties will be set in the processed project. Keep in mind that if <tt>buildfile</tt> is not set, those properties will be actually set in the current project.</p>
      
<p>The <tt>grand</tt> task can also have nested <tt>filter</tt> elements. The filters will be applied to the graph in specified order resulting in something similar to an <i>and</i> between filters. The <tt>filter</tt> can take the following parameters:</p>
      
<div class="task-parameters">
        
<table border="0" class="table table-striped">
          <tbody>
            
<tr class="a">
              
<th>Attribute</th>
              
<th>Definition</th>
              
<th>Mandatory</th>
            </tr>
            
<tr class="b">
              
<td class="param">name</td>
              
<td class="def">filter's name. Can be one of <tt>isolatednode</tt>, <tt>missingnode</tt>, <tt>prefixed</tt>, <tt>fromnode</tt>, <tt>tonode</tt>, <tt>connected</tt> or <tt>removenode</tt>.</td>
              
<td class="mandatory">Yes</td>
            </tr>
            
<tr class="a">
              
<td class="param">node</td>
              
<td class="def">a node's name. Depending of the selected filter, this attribute can have different meanings and may or may not be mandatory.</td>
              
<td class="mandatory">No</td>
            </tr>
          </tbody>
        </table>
      </div>
      
<div id="filters">
        </div>
<div class="section">
<h4><a name="Filters"></a>Filters</h4>
        
<div class="filter-definitions">
          
<dl>
            
<dt>Isolated node</dt>
            
<dd>Removes isolated nodes (<i>i.e.</i>: nodes with no links) from the graph. The <tt>node</tt> attribute is not used by this filter.</dd>
            
<dt>Missing node</dt>
            
<dd>Removes nodes created when a link makes a reference to a non existing one. The <tt>node</tt> attribute is not used by this filter.</dd>
            
<dt>Prefixed</dt>
            
<dd>Removes nodes with prefixed names created by Ant 1.8+ for targets in build files included by <tt>&lt;import /&gt;</tt> statement. The <tt>node</tt> attribute is not used by this filter.</dd>
            
<dt>From node</dt>
            
<dd>Keeps only a selected node and the nodes it depends upon. The <tt>node</tt> parameter is the name of the node to start from.</dd>
            
<dt>To node</dt>
            
<dd>Keeps only a selected node and the nodes depending upon it. The <tt>node</tt> parameter is the name of the node to start from.</dd>
            
<dt>Connected</dt>
            
<dd>Keeps only a selected node and the nodes connected to it. The <tt>node</tt> parameter is the name of the node to start from.</dd>
            
<dt>Remove node</dt>
            
<dd>Removes a named node (and the attached links) from the graph.</dd>
          </dl>
        </div>
      </div>
      
<div id="output-configuration">
        </div>
<div class="section">
<h4><a name="Output_configuration"></a>Output configuration</h4>
        
<p>Currently, there are two ways to configure the output. One is to use a property file to override the default configuration of the DOT file writer. When overriding an attribute, the property value should be a valid Graphviz attribute set. The default configuration is:</p>
        
<div class="source"><pre class="prettyprint"># Attributes for the graph
dot.graph.attributes=rankdir=&quot;LR&quot;

# Default Attributes for node.
dot.node.attributes=fontsize=&quot;12&quot;

# Dependency links
dot.link.attributes=fontsize=&quot;10&quot;

# Weak dependency links
dot.weaklink.attributes=fontsize=&quot;10&quot;,style=&quot;dotted&quot;

# Subant links
dot.subantlink.attributes=fontsize=&quot;10&quot;,style=&quot;dashed&quot;

# Main nodes
dot.mainnode.attributes=shape=box,fillcolor=&quot;limegreen&quot;,style=&quot;filled,bold&quot;,fontname=&quot;Times-Bold&quot;

# Default nodes
dot.startnode.attributes=shape=octagon,fillcolor=&quot;yellow&quot;,style=&quot;filled,bold&quot;,fontname=&quot;Helvetica-Bold&quot;

# Missing nodes
dot.missingnode.attributes=color=&quot;gray&quot;,fontcolor=&quot;gray&quot;</pre></div>
      </div>
      
<p>Alternatively, properties configuring the output can be set up directly in the build file. The grand task is made aware of them by <tt>outputconfigprefix</tt> attribute of the task. It works similarly to Ant's <tt>&lt;propertyref prefix=&quot;...&quot;/&gt;</tt>, except that prefix value is replaced by <tt>dot</tt>, as well. The following Ant snippet hopefully explains the concept:</p>
      
<div class="source"><pre class="prettyprint">&lt;property name=&quot;grand.graph.attributes&quot; value=&quot;rankdir='LR'&quot;&gt;
&lt;grand output=&quot;build.dot&quot; outputconfigprefix=&quot;grand&quot;/&gt;</pre></div>
      
<p>The Graphviz attribute values can be enclosed in apostrophes (<tt>'</tt>, as in the above) or corresponding XML entities (<tt>&amp;quot;</tt> or <tt>&amp;apos;</tt>).</p>
    </div></div>
    
<div class="section">
<h3><a name="Examples"></a>Examples</h3>
      
<div class="source"><pre class="prettyprint">&lt;grand output=&quot;build.dot&quot; buildfile=&quot;ant-build.xml&quot;/&gt;</pre></div>
      
<p>The above Ant snippet will create a DOT file named <tt>build.dot</tt> from <tt>ant-build.xml</tt>. To view the graph you need to transform the DOT file into <i>something else</i> using the <tt>dot</tt> command. The following Ant snippet converts the previously generated file into a PostScript file resized to fit on A4 paper in landscape mode:</p>
      
<div class="source"><pre class="prettyprint">&lt;exec executable=&quot;dot&quot;&gt;
    &lt;arg line=&quot;-Tps -Gsize=11.69,8.27 -Grotate=90 -o build.ps build.dot&quot;/&gt;
&lt;/exec&gt;</pre></div>
      
<div class="sample-image">
        <img src="images/ant-build.svg" title="Ant full dependency graph" class="modal-image" width="640" height="271" alt="Ant full dependency graph" />
      </div>
      
<p>From the full graph, we use a <tt>fromnode</tt> filter to keep only targets be executed from the default <tt>main</tt> target:</p>
      
<div class="source"><pre class="prettyprint">&lt;grand output=&quot;build.dot&quot; buildfile=&quot;ant-build.xml&quot;&gt;
    &lt;filter name=&quot;fromnode&quot; node=&quot;main&quot;/&gt;
&lt;/grand&gt;</pre></div>
      
<div class="sample-image">
        <img src="images/ant-build-from-main.svg" title="Ant dependencies from main target" class="modal-image" width="640" height="99" alt="Ant dependencies from main" />
      </div>
      
<p>Below is a more complex example using two filters to only keep a small part of the graph:</p>
      
<div class="source"><pre class="prettyprint">&lt;grand output=&quot;build.dot&quot; buildfile=&quot;ant-build.xml&quot;&gt;
    &lt;filter name=&quot;fromnode&quot; node=&quot;dist&quot;/&gt;
    &lt;filter name=&quot;tonode&quot; node=&quot;prepare&quot;/&gt;
&lt;/grand&gt;</pre></div>
      
<div class="sample-image">
        <img src="images/ant-build-from-dist-to-prepare.svg" title="Filtered Ant dependencies" class="modal-image" width="640" height="84" alt="Filtered Ant dependencies" />
      </div>
    </div>
    
<div class="section">
<h3><a name="To_do"></a>To do</h3>
      
<ul>
        
<li>The current grapher configuration sucks: too close to <tt>dot</tt>, switch to generic parameters.</li>
        
<li>Improve the processing of <tt>ant</tt>, <tt>antcall</tt>, etc.</li>
        
<li>Many improvements to the GUI: open multiple files, better visualization, customization, etc.</li>
        
<li>Add source visualization in the GUI.</li>
        
<li>Create a <i>visual execution</i> mode in the GUI.</li>
      </ul>
    </div>
    
<div class="section">
<h3><a name="Javadoc"></a>Javadoc</h3>
      
<p>The Javadoc API documentation is available <a href="apidocs/">online</a>. The source archive includes a few JUnit tests including some Ant examples.</p>
    </div>
    
<div class="section">
<h3><a name="License"></a>License</h3>
      
<p>Grand is distributed under the terms of the <a href="../../LICENSE.txt">Simplified BSD License</a>.</p>
    </div>
    
<div class="section">
<h3><a name="Contact"></a>Contact</h3>
      
<p>Don't hesitate to <a class="externalLink" href="mailto:grand@ggtools.net">contact me</a> for anything relative to Grand (bug, suggestion, etc.).</p>
    </div>
    </div>
  


        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2004&#x2013;2017
<a href="http://www.ggtools.net/">ggTools</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>