<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.1 from src/site/xdoc/grand.xml at 2020-01-01
 | Rendered using Apache Maven Fluido Skin 1.8
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.1" />
    <meta name="author" content="Christophe Labouisse" />
    <title>Grand &#x2013; ggTools: Grand</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.8.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.8.min.js"></script>
<!-- For old IEs -->
    <link rel="shortcut icon" href="/favicon.ico"/>

    <!-- For new browsers - multisize ico -->
    <link rel="icon" type="image/x-icon" sizes="16x16 32x32" href="/favicon.ico"/>

    <!-- Chrome v31+ for Android -->
    <link rel="icon" sizes="192x192" type="image/png" href="/apple-touch-icon.png"/>

    <!-- For Old Chrome -->
    <link rel="icon" sizes="32x32" type="image/png" href="/images/favicon-32.png"/>

    <!-- Chrome for Android -->
    <link rel="manifest" href="/manifest.json"/>
    <link rel="icon" sizes="192x192" type="image/png" href="/apple-touch-icon.png"/>

    <!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
    <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"/>

    <!-- For the iPad mini and the first- and second-generation iPad on iOS ≤ 6: -->
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-touch-icon-72x72-precomposed.png"/>

    <!-- For iPhone with high-resolution Retina display running iOS ≤ 6: -->
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-touch-icon-114x114-precomposed.png"/>

    <!-- For iPad with high-resolution Retina display running iOS ≤ 6: -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144x144-precomposed.png"/>

    <!-- For non-Retina iPhone and iPod Touch on iOS ≥ 7: -->
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/apple-touch-icon-60x60-precomposed.png"/>

    <!-- For the iPad mini and the first- and second-generation iPad on iOS ≥ 7: -->
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/apple-touch-icon-76x76-precomposed.png"/>

    <!-- For iPhone with high-resolution Retina display running iOS ≥ 7: -->
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/apple-touch-icon-120x120-precomposed.png"/>

    <!-- For iPad with high-resolution Retina display running iOS ≥ 7: -->
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/apple-touch-icon-152x152-precomposed.png"/>
<meta name="description" content="Graphical Representation of ANt Dependencies" /><meta name="keywords" content="Java, tools, programming, free software, Ant, dependency, depend, target, graph, Graphviz, DOT, graphical, jface, SWT, JzGraph" /><link href="css/grand.css" type="text/css" rel="stylesheet" /><script type="text/javascript" src="js/grand.js"></script>  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h2>Grand: Graphical Representation of ANt Dependencies</h2>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-01-01<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.9.7</li>
      <li class="pull-right"><a href=".." title="Grand: Graphical Representation of ANt Dependencies">Grand: Graphical Representation of ANt Dependencies</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Grand</li>
    <li class="active"><a href="#"><span class="none"></span>Introduction</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >


  
    
    <section>
<h2></h2>
    
<div class="grandmenu" id="grandMenu">
      
<ul>
        
<li><a href="#WhatWhy">What/Why?</a></li>
        
<li><a href="#Features">Features</a></li>
        
<li><a href="#News">News</a></li>
        
<li><a href="#Download">Download</a></li>
        
<li><a href="#Compilation">Compilation</a></li>
        
<li><a href="#Using_the_Ant_task">Using the Ant task</a></li>
        
<li><a href="#Filters">Filters</a></li>
        
<li><a href="#Examples">Examples</a></li>
        
<li><a href="#To_do">To do</a></li>
        
<li><a href="#Javadoc">Javadoc</a></li>
        
<li><a href="#License">License</a></li>
        
<li><a href="#Contact">Contact</a></li>
        
<li class="icon">
          <span>Shortcuts</span>
          <a href="javascript:grandmenuresponsive();">&#x2630;</a>
        </li>
      </ul>
    </div>
    
<div class="grandmodal" id="grandModal">
      <span class="grandclose" id="grandClose">&#xd7;</span>
    </div>
    <section>
<h3><a name="What.2FWhy.3F"></a>What/Why?</h3>
      
<p>Grand is a tool to create visual representation of <a class="externalLink" href="https://ant.apache.org">Ant</a> target dependencies. It differs from tools like <a class="externalLink" href="http://vizant.sourceforge.net/">Vizant</a> or <a class="externalLink" href="https://web.archive.org/web/20050416013130/http://www.ericburke.com/downloads/antgraph/">AntGraph</a> or <a class="externalLink" href="http://ant2dot.sourceforge.net/">ant2dot</a> by a totally different approach, relying on the Ant API rather than parsing the XML files directly. This enables Grand to provide some nifty features such as the support of the Ant 1.6+ tasks like <a class="externalLink" href="http://ant.apache.org/manual/Tasks/import.html">import</a> or <a class="externalLink" href="http://ant.apache.org/manual/Tasks/subant.html">subant</a>.</p>
      
<p>From a user point of view, Grand can be used either as a standalone application with a nice GUI or as an Ant task generating a <a class="externalLink" href="http://www.graphviz.org/content/dot-language">DOT language</a> file. In this latter case a post processing using <a class="externalLink" href="http://www.graphviz.org">Graphviz</a> is required to get the actual graph.</p>
      
<div class="floating-sample-image">
        <img src="images/grand-ui-screenshot.svg" title="Grand UI screenshot" class="modal-image" width="400" height="312" alt="Grand UI screenshot" />
      </div>
      
<p>On the right is a screenshot of the GUI displaying a very simple Ant file. The left pane displays a sorted list of the targets, the lower pane the source code of the last selected node and the main one the dependency graph. In this graph, the default target is pictured in a yellow octagon, the targets with a description (main targets) in limegreen boxes while ovals are targets without description. The gray target is an external target located in another file but referenced by a task (subant in this specific case).</p>
      
<p>On the link side, the black ones are static dependencies (from the depends attribute) while the gray ones are the dependencies created by tasks.</p>
      
<p>Images produced using the Ant task can be found in the <a href="#Examples">examples</a> section.</p>
    </section>
    <section>
<h3><a name="Features"></a>Features</h3>
      
<ul>
        
<li>finds both static (using the depends attribute) and dynamic (created by tasks like ant or antcall) dependencies,</li>
        
<li>supports Ant 1.6 import statement,</li>
        
<li>supports most dependencies generating tasks: ant, antcall, subant and foreach, runtarget from <a class="externalLink" href="http://ant-contrib.sourceforge.net/">Ant-Contrib</a>,</li>
        
<li>available as both as an easy to install (one single jar, no extra dependency) Ant task or a stand alone application with a nice SWT GUI,</li>
        
<li>the GUI can open several files simultaneously and includes some inter file navigation features.</li>
      </ul>
    </section>
    <section>
<h3><a name="News"></a>News</h3>
      
<p>Please see the Grand and GrandUI <a href="changes-report.html#Release_History">release history</a>. Latest versions (as well as quick download links) are displayed on the <a href="../..">front page</a> if JavaScript is enabled in your browser.</p>
    </section>
    <section>
<h3><a name="Download"></a>Download</h3>
      <section>
<h4><a name="Core.2FAnt_task"></a>Core/Ant task</h4>
      
<p>The latest version of Grand is available as a <a class="externalLink" href="https://github.com/Ant-Grand/Grand/releases/latest">jar file</a>. Old versions are available in the <a class="externalLink" href="https://github.com/Ant-Grand/Grand/releases">download directory</a>.</p>
      
<p>You'll also need to grab <a class="externalLink" href="http://ant.apache.org">Ant</a>. The recommended version is 1.8.0 or later.</p>
      </section><section>
<h4><a name="GUI"></a>GUI</h4>
      
<p>The GUI is available as a complete binary distribution in a <a class="externalLink" href="https://github.com/Ant-Grand/GrandUI/releases/latest">zip file</a>. This archive should work for macOS (x86_64), Linux and Windows (both x86 and x86_64) systems. Old versions are available in the <a class="externalLink" href="https://github.com/Ant-Grand/GrandUI/releases">download directory</a>.</p>
    </section></section>
    <section>
<h3><a name="Compilation"></a>Compilation</h3>
      
<p>If you want to recompile Grand, you'll first need to install <a class="externalLink" href="http://maven.apache.org/">Maven</a>. After that the compilation process should be straightforward: untar or unzip, cd to the Grand directory, and type mvn package. Maven will download the required libraries, compile the classes, run the (few) unit tests and create a jar.</p>
      
<p>As an alternative to Maven, the source archive also provides a build.xml file to be used with <a class="externalLink" href="http://ant.apache.org">Ant</a>. This file had been generated by Maven so it tries to mimic its behaviour. By default, the build will download the dependencies using Ivy. You can prevent this by running Ant with -Dnoget=yes. In this case you'll have to put all jars listed in the <a href="dependencies.html#Project_Dependencies">dependency report</a> in the classpath or in the target/lib directory.</p>
    </section>
    <section>
<h3><a name="Using_the_Ant_task"></a>Using the Ant task</h3>
      
<p>To use the Ant task you should first define the grand task:</p>
      
<div class="source"><pre class="prettyprint">&lt;typedef resource=&quot;net/ggtools/grand/antlib.xml&quot; classpath=&quot;grand-0.4.jar&quot;/&gt;</pre></div>
      <section>
<h4><a name="Note_on_property_defined_dependencies"></a>Note on property defined dependencies</h4>
      
<p>Starting with release 0.4, Grand can work with dependencies defined from properties like &lt;target name=&quot;target&quot; depends=&quot;${my.target}&quot;&gt;. Keep in mind that the <i>graphed</i> file is only parsed, not executed. So no runtime defined properties (for instance, anything defined with the property task) will be available to Grand. The only exception is when Grand is graphing the current build file because it uses the project already loaded by Ant rather than parsing it from scratch.</p>
      
<p>The task takes the following parameters:</p>
      
<div class="task-parameters">
        
<table border="0" class="table table-striped">
          <tbody>
            
<tr class="a">
              
<th>Attribute</th>
              
<th>Definition</th>
              
<th>Mandatory</th>
            </tr>
            
<tr class="b">
              
<td class="param">output</td>
              
<td class="def">Name of the output file.</td>
              
<td class="mandatory">Yes</td>
            </tr>
            
<tr class="a">
              
<td class="param">buildfile</td>
              
<td class="def">Name of the build file to graph. If omitted, the current build file will be used.</td>
              
<td class="mandatory">No</td>
            </tr>
            
<tr class="b">
              
<td class="param">propertyfile</td>
              
<td class="def">Deprecated, use outputconfigfile instead.</td>
              
<td class="mandatory">No</td>
            </tr>
            
<tr class="a">
              
<td class="param">outputconfigfile</td>
              
<td class="def">Property file to configure the output. Mutually exclusive with outputconfigprefix.</td>
              
<td class="mandatory">No</td>
            </tr>
            
<tr class="b">
              
<td class="param">outputconfigprefix</td>
              
<td class="def">Prefix of project properties used to configure the output. Mutually exclusive with outputconfigfile.</td>
              
<td class="mandatory">No</td>
            </tr>
            
<tr class="a">
              
<td class="param">showgraphname</td>
              
<td class="def">If true, the generated graph will have the Ant project's name displayed as the graph label.</td>
              
<td class="mandatory">No</td>
            </tr>
            
<tr class="b">
              
<td class="param">inheritall</td>
              
<td class="def">If true, the properties of the current build file will be passed to the <i>graphed</i> build file. The default is not to pass the properties to the <i>graphed</i> project.</td>
              
<td class="mandatory">No</td>
            </tr>
          </tbody>
        </table>
      </div>
      
<p>The grand task accepts nested property and propertyset elements. Those properties will be set in the processed project. Keep in mind that if buildfile is not set, those properties will be actually set in the current project.</p>
      
<p>The grand task can also have nested filter elements. The filters will be applied to the graph in specified order resulting in something similar to an <i>and</i> between filters. The filter can take the following parameters:</p>
      
<div class="task-parameters">
        
<table border="0" class="table table-striped">
          <tbody>
            
<tr class="a">
              
<th>Attribute</th>
              
<th>Definition</th>
              
<th>Mandatory</th>
            </tr>
            
<tr class="b">
              
<td class="param">name</td>
              
<td class="def">Name of the filter. Can be one of isolatednode, missingnode, prefixed, fromnode, tonode, connected or removenode.</td>
              
<td class="mandatory">Yes</td>
            </tr>
            
<tr class="a">
              
<td class="param">node</td>
              
<td class="def">Name of a node. Depending of the selected filter, this attribute can have different meanings and may or may not be mandatory.</td>
              
<td class="mandatory">No</td>
            </tr>
          </tbody>
        </table>
      </div>
      
<div id="filters">
        </section><section>
<h4><a name="Filters"></a>Filters</h4>
        
<div class="filter-definitions">
          
<dl>
            
<dt>Isolated node</dt>
            
<dd>Removes isolated nodes (<i>i.e.</i>: nodes with no links) from the graph. The node attribute is not used by this filter.</dd>
            
<dt>Missing node</dt>
            
<dd>Removes nodes created when a link makes a reference to a non existing one. The node attribute is not used by this filter.</dd>
            
<dt>Prefixed</dt>
            
<dd>Removes nodes with prefixed names created by Ant 1.8+ for targets in build files included by &lt;import /&gt; statement. The node attribute is not used by this filter.</dd>
            
<dt>From node</dt>
            
<dd>Keeps only a selected node and the nodes it depends upon. The node parameter is the name of the node to start from.</dd>
            
<dt>To node</dt>
            
<dd>Keeps only a selected node and the nodes depending upon it. The node parameter is the name of the node to start from.</dd>
            
<dt>Connected</dt>
            
<dd>Keeps only a selected node and the nodes connected to it. The node parameter is the name of the node to start from.</dd>
            
<dt>Remove node</dt>
            
<dd>Removes a named node (and the attached links) from the graph.</dd>
          </dl>
        </div>
      </div>
      
<div id="output-configuration">
        </section><section>
<h4><a name="Output_configuration"></a>Output configuration</h4>
        
<p>Currently, there are two ways to configure the output. One is to use a property file to override the default configuration of the DOT file writer. When overriding an attribute, the property value should be a valid Graphviz attribute set. The default configuration is:</p>
        
<div class="source"><pre class="prettyprint"># Attributes for the graph
dot.graph.attributes=rankdir=&quot;LR&quot;

# Default Attributes for node.
dot.node.attributes=fontsize=&quot;12&quot;

# Dependency links
dot.link.attributes=fontsize=&quot;10&quot;

# Weak dependency links
dot.weaklink.attributes=fontsize=&quot;10&quot;,style=&quot;dotted&quot;

# Subant links
dot.subantlink.attributes=fontsize=&quot;10&quot;,style=&quot;dashed&quot;

# Main nodes
dot.mainnode.attributes=shape=box,fillcolor=&quot;limegreen&quot;,style=&quot;filled,bold&quot;,fontname=&quot;Times-Bold&quot;

# Default nodes
dot.startnode.attributes=shape=octagon,fillcolor=&quot;yellow&quot;,style=&quot;filled,bold&quot;,fontname=&quot;Helvetica-Bold&quot;

# Missing nodes
dot.missingnode.attributes=color=&quot;gray&quot;,fontcolor=&quot;gray&quot;</pre></div>
      </div>
      
<p>Alternatively, properties configuring the output can be set up directly in the build file. The grand task is made aware of them by outputconfigprefix attribute of the task. It works similarly to Ant's &lt;propertyref prefix=&quot;...&quot;/&gt;, except that prefix value is replaced by dot, as well. The following Ant snippet hopefully explains the concept:</p>
      
<div class="source"><pre class="prettyprint">&lt;property name=&quot;grand.graph.attributes&quot; value=&quot;rankdir='TB'&quot;&gt;
&lt;grand output=&quot;build.dot&quot; outputconfigprefix=&quot;grand&quot;/&gt;</pre></div>
      
<p>The Graphviz attribute values can be enclosed in apostrophes (', as in the above) or corresponding XML entities (&amp;quot; or &amp;apos;).</p>
    </section></section>
    <section>
<h3><a name="Examples"></a>Examples</h3>
      
<div class="source"><pre class="prettyprint">&lt;grand output=&quot;build.dot&quot; buildfile=&quot;ant-build.xml&quot;/&gt;</pre></div>
      
<p>The above Ant snippet will create a DOT file named build.dot from ant-build.xml. To view the graph you need to transform the DOT file into <i>something else</i> using the dot command. The following Ant snippet converts the previously generated file into a PostScript file resized to fit on A4 paper in landscape mode:</p>
      
<div class="source"><pre class="prettyprint">&lt;exec executable=&quot;dot&quot;&gt;
    &lt;arg line=&quot;-Tps -Gsize=11.69,8.27 -Grotate=90 -o build.ps build.dot&quot;/&gt;
&lt;/exec&gt;</pre></div>
      
<div class="sample-image">
        <img src="images/ant-build.svg" title="Ant full dependency graph" class="modal-image" width="640" height="271" alt="Ant full dependency graph" />
      </div>
      
<p>From the full graph, we use a fromnode filter to keep only targets that could be executed from the default main target:</p>
      
<div class="source"><pre class="prettyprint">&lt;grand output=&quot;build.dot&quot; buildfile=&quot;ant-build.xml&quot;&gt;
    &lt;filter name=&quot;fromnode&quot; node=&quot;main&quot;/&gt;
&lt;/grand&gt;</pre></div>
      
<div class="sample-image">
        <img src="images/ant-build-from-main.svg" title="Ant dependencies from main target" class="modal-image" width="640" height="99" alt="Ant dependencies from main" />
      </div>
      
<p>Below is a more complex example using two filters to only keep a small part of the graph:</p>
      
<div class="source"><pre class="prettyprint">&lt;grand output=&quot;build.dot&quot; buildfile=&quot;ant-build.xml&quot;&gt;
    &lt;filter name=&quot;fromnode&quot; node=&quot;dist&quot;/&gt;
    &lt;filter name=&quot;tonode&quot; node=&quot;prepare&quot;/&gt;
&lt;/grand&gt;</pre></div>
      
<div class="sample-image">
        <img src="images/ant-build-from-dist-to-prepare.svg" title="Filtered Ant dependencies" class="modal-image" width="640" height="84" alt="Filtered Ant dependencies" />
      </div>
    </section>
    <section>
<h3><a name="To_do"></a>To do</h3>
      
<ul>
        
<li>The current grapher configuration sucks: too close to dot, switch to generic parameters.</li>
        
<li>Improve the processing of ant, antcall, etc.</li>
        
<li>Many improvements to the GUI: open multiple files, better visualization, customization, etc.</li>
        
<li>Add source visualization in the GUI.</li>
        
<li>Create a <i>visual execution</i> mode in the GUI.</li>
      </ul>
    </section>
    <section>
<h3><a name="Javadoc"></a>Javadoc</h3>
      
<p>The Javadoc API documentation is available <a href="apidocs/">online</a>. The source archive includes a few JUnit tests including some Ant examples.</p>
    </section>
    <section>
<h3><a name="License"></a>License</h3>
      
<p>Grand is distributed under the terms of the <a href="../../LICENSE.txt">Simplified BSD License</a>.</p>
    </section>
    <section>
<h3><a name="Contact"></a>Contact</h3>
      
<p>Don't hesitate to <a class="externalLink" href="mailto:grand@ggtools.net">contact me</a> for anything relative to Grand (bug, suggestion, etc.).</p>
    </section>
    </section>
  


        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &#169;      2004&#x2013;2020<a href="https://ant-grand.github.io">ggTools</a>.
.</p>
        </div>
      </div>
    </footer>
  </body>
</html>